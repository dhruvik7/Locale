(window.webpackJsonplocale=window.webpackJsonplocale||[]).push([[0],{131:function(e,t,n){e.exports=n(218)},137:function(e,t,n){},138:function(e,t,n){},148:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);n(132);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),c=(n(137),n(138),n(13)),s=n(11),l=n(15),u=n(16),d=n(17),p=n(14),m=n(8),f=Object(m.createStore)("LocationEntryStore",{startedSession:!1,entries:0,currentEntry:"",text:[],sliderNum:50,coordinates:[],submitted:!1,centroid:{latitude:0,longitude:0},zipCodes:[],valid_zipcodes:[],datum:[],rankedData:[],finalScores:[],results:[],resultCoordinates:[],invalidResponse:!1}),b=Object(m.action)("addNewAddress"),h=Object(m.action)("maintainInput",function(e){return{event:e}}),j=Object(m.action)("removeAddress",function(e){return{address:e}}),O=Object(m.action)("submitAddresses",function(e,t){return{latitude:e,longitude:t}}),g=Object(m.action)("submit"),v=Object(m.action)("geocode"),y=Object(m.action)("formRankedMatrix"),E=Object(m.action)("setCentroid",function(e){return{center:e}}),k=Object(m.action)("setZipCode",function(e){return{zipcode:e}}),x=Object(m.action)("addData",function(e){return{data:e}}),w=Object(m.action)("computeRanking"),C=Object(m.action)("createRankingArray"),z=Object(m.action)("removeFirst"),N=Object(m.action)("setLoaded"),S=Object(m.action)("addFinalCoordinate",function(e,t){return{lat:e,lng:t}}),I=Object(m.action)("setInvalidResponse"),D=Object(m.createStore)("SliderStore",{sliderNums:[0,0,0,0,0,0,0,0,50,50,50,50,50,50,50]});function A(e){var t=e.slice().sort(function(e,t){return e-t});return e.map(function(e){return t.indexOf(e)+1})}Object(m.mutator)(b,function(){""!==f().currentEntry&&-1===f().text.indexOf(f().currentEntry)&&(f().text[f().entries]=f().currentEntry,f().entries++,f().currentEntry="")}),Object(m.mutator)(h,function(e){f().currentEntry=e.event.target.value}),Object(m.mutator)(j,function(e){f().text.splice(f().text.indexOf(e.address),1),f().entries--}),Object(m.mutator)(O,function(e){f().coordinates.push({lat:e.latitude,lng:e.longitude})}),Object(m.mutator)(g,function(e){f().text.length>0?(f().submitted=!0,f().coordinates=[],f().zipCodes=[],f().valid_zipcodes=[],f().datum=[],f().rankedData=[],f().finalScores=[],f().results=[],f().resultCoordinates=[],f().startedSession=!0,f().invalidResponse=!1):alert("You must add at least one location to proceed with your search")}),Object(m.mutator)(N,function(e){f().submitted=!1}),Object(m.mutator)(E,function(e){f().centroid=e.center}),Object(m.mutator)(k,function(e){f().zipCodes.push(e.zipcode)}),Object(m.mutator)(z,function(e){f().zipCodes.shift()}),Object(m.mutator)(x,function(e){f().datum.push(Object.values(e.data.data())),f().valid_zipcodes.push(e.data.id)}),Object(m.mutator)(y,function(e){for(var t=[],n=0;n<f().datum[0].length;n++){var a=f().datum.map(function(e,t){return e[n]});t.push(A(a))}f().rankedData=t[0].map(function(e,n){return t.map(function(e){return e[n]})}),console.log("done")}),Object(m.mutator)(w,function(e){f().finalScores=f().rankedData.map(function(e){return function(e,t){var n=0;if(console.log(t.length),e.length===t.length)for(var a=0,r=e.length;a<r;a++)n+=e[a]*t[a];return n}(D().sliderNums,e)})}),Object(m.mutator)(C,function(e){for(var t=f().finalScores.length,n=A(f().finalScores).map(function(e){return t-e+1}),a=0;a<t;a++)f().results.push({zip:f().valid_zipcodes[a],score:f().finalScores[a],rank:n[a]});f().results=f().results.sort(function(e,t){return e.rank-t.rank})}),Object(m.mutator)(S,function(e){f().resultCoordinates.push({lat:e.lat,lng:e.lng})}),Object(m.mutator)(I,function(e){f().invalidResponse=!0,f().submitted=!1,f().startedSession=!1});n(90);var L,_,R=n(252),B=n(253),W=n(255),F=n(251),K=n(247),T=n(249),V=n(256),Z=n(250),J=n(114),P=n.n(J),q=Object(p.a)(L=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=f().text,t=e.map(function(e){return r.a.createElement(K.a,{className:"listItem"},r.a.createElement(V.a,{primary:e}),r.a.createElement(T.a,null,r.a.createElement(Z.a,{edge:"end","aria-label":"delete",onClick:function(){return j(e)}},r.a.createElement(P.a,null))))});return e.length>0?r.a.createElement("div",{className:"locationList"},r.a.createElement(F.a,null,t)):null}}]),t}(r.a.Component))||L,H=Object(p.a)(_=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=f();return r.a.createElement("div",{className:"entryContainer"},r.a.createElement("h1",null,"locations"),r.a.createElement("h3",null,"List any addresses or places of significance to you (work, friends/family, etc.)"),r.a.createElement(R.a,null,r.a.createElement(W.a,{name:"address",placeholder:"address",value:e.currentEntry,onChange:h,id:"location-input","aria-describedby":"location-helper",fullWidth:!0}),r.a.createElement("div",{className:"add"},r.a.createElement(B.a,{color:"primary",onClick:b},"Add"))),r.a.createElement(q,null))}}]),t}(r.a.Component))||_,M=n(80),U=n.n(M),X=n(257),G=Object(m.action)("maintainSlider",function(e,t){return{value:e,slider:t}});Object(m.mutator)(G,function(e){D().sliderNums[e.slider]=e.value});n(148);var Q,Y,$,ee,te,ne,ae,re,oe,ie=Object(p.a)(Q=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[{value:0,label:this.props.lowEnd},{value:100,label:this.props.highEnd}];return a.createElement("div",{className:"slider"},a.createElement("h1",null,this.props.title),a.createElement("h3",null,this.props.desc),a.createElement(X.a,{value:this.props.value,onChange:function(t,n){return"number"===typeof n?G(n,e.props.index):{}},marks:t}))}}]),t}(a.Component))||Q,ce=Object(p.a)(Y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"not important",highEnd:"very important",title:"schools",desc:"how important is it for you to live near a top public school district?",value:D().sliderNums[12],index:12})}}]),t}(a.Component))||Y,se=n(115),le=Object(p.a)($=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"own",highEnd:"rent",title:"real estate",desc:"are you looking to rent or own? (slider indicates strength of preference)",value:D().sliderNums[10],index:10})}}]),t}(a.Component))||$,ue=Object(p.a)(ee=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"not important",highEnd:"very important",title:"education",desc:"how important is it for you to live in a well-educated neighborhood?",value:D().sliderNums[8],index:8})}}]),t}(a.Component))||ee,de=Object(p.a)(te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"not important",highEnd:"very important",title:"walkability",desc:"how important is it for you to live in a walkable neighborhood?",value:D().sliderNums[14],index:14})}}]),t}(a.Component))||te,pe=Object(p.a)(ne=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"rural",highEnd:"urban",title:"density",desc:"would you like to live in a city or small town?",value:D().sliderNums[13],index:13})}}]),t}(a.Component))||ne,me=Object(p.a)(ae=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"not important",highEnd:"very important",title:"transportation",desc:"how important is it for you to have access to a good public transportation system?",value:D().sliderNums[11],index:11})}}]),t}(a.Component))||ae,fe=Object(p.a)(re=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(ie,{lowEnd:"not at all",highEnd:"a lot",title:"family",desc:"how much would you like to live in a family-oriented neighorhood?",value:D().sliderNums[9],index:9})}}]),t}(a.Component))||re,be=n(116),he=n.n(be),je=(n(77),Object(p.a)(oe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=f().results.map(function(e,t){return a.createElement(K.a,{alignItems:"center"},a.createElement(V.a,{primary:e.rank.toString().concat(": ",e.zip)}),a.createElement(T.a,null,a.createElement(Z.a,{edge:"end","aria-label":"navigate in map",onClick:function(){return E({latitude:f().resultCoordinates[t].lat,longitude:f().resultCoordinates[t].lng})}},a.createElement(he.a,null))))});return a.createElement("div",{className:"list"},a.createElement(F.a,null,e))}}]),t}(a.Component))||oe),Oe=n(24),ge=n.n(Oe),ve=n(36),ye=n(56),Ee=n.n(ye),ke=n(117),xe=n(118),we=n.n(xe).a.initializeApp({apiKey:"AIzaSyD6VFQ8nT8wZCLlKuBlv9NKd0jfNEkLEtw",authDomain:"locale-1565590474086.firebaseapp.com",databaseURL:"https://locale-1565590474086.firebaseio.com",projectId:"locale-1565590474086",storageBucket:"locale-1565590474086.appspot.com",messagingSenderId:"392136218799",appId:"1:392136218799:web:37f58f612e3fa00e"}).firestore(),Ce="&key=AIzaSyBgdoIxWndrgXxHu2ad3mXGpAjO8O34uJc",ze="552WFK7HVW8DFPNVT28I";function Ne(){return(Ne=Object(ve.a)(ge.a.mark(function e(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se();case 2:if(!(f().coordinates.length>0)){e.next=24;break}return De(),e.next=6,Ae();case 6:return e.next=8,_e();case 8:if(!1!==f().invalidResponse){e.next=23;break}return z(),console.log("scoring"),e.next=13,Be();case 13:if(console.log("added"),!(f().datum.length>0)){e.next=22;break}return y(),w(),C(),e.next=20,Fe();case 20:e.next=23;break;case 22:alert("It appears that your selected locations are not in the same region, please try again.");case 23:N();case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(ve.a)(ge.a.mark(function e(){var t,n,a,r,o,i;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=ge.a.keys(f().text);case 1:if((e.t1=e.t0()).done){e.next=11;break}return t=e.t1.value,n=f().text[t],a=n.trim().replace(/\s/g,"%20"),e.next=7,Ee.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,Ce));case 7:(r=e.sent).data.results.length>0&&(o=r.data.results[0].geometry.location.lng,i=r.data.results[0].geometry.location.lat,O(i,o)),e.next=1;break;case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(){var e=f().coordinates.map(function(e){return{latitude:e.lat,longitude:e.lng}});E(Object(ke.getCenter)(e)),console.log(f().centroid)}function Ae(){return Le.apply(this,arguments)}function Le(){return(Le=Object(ve.a)(ge.a.mark(function e(){var t,n,a,r;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f().centroid.latitude.toString().concat(", ",f().centroid.longitude.toString()),e.next=3,Ee.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,Ce));case 3:if(void 0===(n=e.sent).data.results[0]){e.next=16;break}a=n.data.results[0].address_components,e.t0=ge.a.keys(a);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(r=e.t1.value,"postal_code"!==a[r].types[0]){e.next=12;break}return k(a[r].short_name),e.abrupt("return");case 12:e.next=7;break;case 14:e.next=18;break;case 16:alert("This is not a valid location, please try again"),I();case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(){return Re.apply(this,arguments)}function Re(){return(Re=Object(ve.a)(ge.a.mark(function e(){var t,n,a,r;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f().invalidResponse){e.next=2;break}return e.abrupt("return");case 2:t=f().zipCodes[0],n=15;case 4:return e.next=6,Ee.a.get("https://api.zip-codes.com/ZipCodesAPI.svc/1.0/FindZipCodesInRadius?zipcode=".concat(t,"&maximumradius=",n.toString(),"&minimumradius=0&key=",ze));case 6:a=e.sent,n--;case 8:if(void 0!==a.data.DataList&&a.data.DataList.length>600){e.next=4;break}case 9:if(void 0===a.data.DataList)alert("it appears you have attempted to search in a place that is mostly water! Unfortunately, these searches are not supported at this time. Please try again later."),I();else for(r=0;r<a.data.DataList.length;r++)k(a.data.DataList[r].Code);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(){return We.apply(this,arguments)}function We(){return(We=Object(ve.a)(ge.a.mark(function e(){var t,n;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f().zipCodes.length>100)){e.next=5;break}return e.next=3,we.collection("zipcode_data").get().then(function(e){e&&e.forEach(function(e){f().zipCodes.includes(e.id)&&x(e)})});case 3:e.next=12;break;case 5:t=0,n=f().zipCodes.length;case 6:if(!(t<n)){e.next=12;break}return e.next=9,we.collection("zipcode_data").doc(f().zipCodes[t]).get().then(function(e){e.data()&&x(e)});case 9:t++,e.next=6;break;case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(ve.a)(ge.a.mark(function e(){var t,n,a;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=f().valid_zipcodes.length;case 1:if(!(t<n)){e.next=9;break}return e.next=4,Ee.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(f().results[t].zip,Ce));case 4:(a=e.sent).data.results.length>0&&S(a.data.results[0].geometry.location.lat,a.data.results[0].geometry.location.lng);case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(m.orchestrator)(v,function(e){!function(){Ne.apply(this,arguments)}()});var Te,Ve,Ze=n(254),Je=Object(p.a)(Te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(ge.a.mark(function e(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement("div",{className:"loadingbar"},a.createElement(Ze.a,{variant:"query"}),a.createElement("br",null),a.createElement(Ze.a,{color:"secondary",variant:"query"}))}}]),t}(a.Component))||Te,Pe=n(49),qe=n(205);function He(e){var t=(f().results.length-f().results[e].rank)/f().results.length*120;return qe.hsl.hex(t,100,50)}var Me,Ue=Object(p.a)(Ve=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=f().coordinates.map(function(e,t){return r.a.createElement(Pe.c,{id:f().text[t],opts:{draggable:!1,title:f().text[t],position:e}})}),t=f().resultCoordinates.map(function(e,t){return r.a.createElement(Pe.c,{id:f().results[t].zip,opts:{draggable:!1,title:f().results[t].zip,icon:{url:"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|".concat(He(t))},position:e}})});return r.a.createElement(Pe.a,null,r.a.createElement(Pe.b,{apiKey:Ce,opts:{center:{lat:f().centroid.latitude,lng:f().centroid.longitude},zoom:10},style:{height:"100vh",width:"100%"},useVisualization:!0}),r.a.createElement(Pe.c,{id:"center",opts:{draggable:!1,title:"center",position:{lat:f().centroid.latitude,lng:f().centroid.longitude},icon:"+"}}),e,t)}}]),t}(r.a.Component))||Ve,Xe=Object(p.a)(Me=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return f().submitted?a.createElement("div",{className:"resultBox"},a.createElement(Je,null)):f().startedSession?a.createElement("div",{className:"resultBox"},a.createElement(je,null),a.createElement(Ue,null)):null}}]),t}(a.Component))||Me;function Ge(e){setTimeout(function(){se.scroller.scrollTo(e,{smooth:!0,duration:800})},1)}var Qe=Object(p.a)(function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Welcome to Locale",r.a.createElement("div",{className:"Sub-header"},"find your perfect neighborhood"),r.a.createElement(B.a,{variant:"extended",color:"secondary",size:"large",onClick:function(){return Ge("content")}},"get started")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"intro"},r.a.createElement("p",null,"personalize the information below to discover the perfect neighborhood for you")),r.a.createElement(U.a,{className:"locationContainer"},r.a.createElement(H,null)),r.a.createElement(U.a,{className:"sliderContainer"},r.a.createElement(ce,null),r.a.createElement(le,null),r.a.createElement(ue,null),r.a.createElement(de,null),r.a.createElement(pe,null),r.a.createElement(me,null),r.a.createElement(fe,null),r.a.createElement(B.a,{type:"submit",onClick:function(){g(),Ge("resultBox")},color:"secondary"},"Submit")),r.a.createElement(Xe,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=n(122);i.a.render(r.a.createElement(Ye.a,{basename:""},r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,n){},90:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.6beb6092.chunk.js.map